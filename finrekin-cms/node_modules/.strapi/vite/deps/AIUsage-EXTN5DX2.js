import {
  useGetAIUsageQuery
} from "./chunk-NSMZCVR5.js";
import "./chunk-D2AJA42X.js";
import "./chunk-7JYK6TW6.js";
import "./chunk-HM5YIFDI.js";
import "./chunk-QOUV5O5E.js";
import {
  Flex,
  Grid,
  ProgressBar,
  Typography,
  useIntl
} from "./chunk-YQYM7WZ4.js";
import "./chunk-AWHRF5BE.js";
import "./chunk-EXVE46AP.js";
import {
  require_jsx_runtime
} from "./chunk-LMPM4PM5.js";
import {
  dt
} from "./chunk-3LBZKDTB.js";
import "./chunk-D3I3COXH.js";
import {
  __toESM
} from "./chunk-LK32TJAX.js";

// node_modules/@strapi/admin/dist/admin/ee/admin/src/pages/SettingsPage/pages/ApplicationInfoPage/components/AIUsage.mjs
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var StyledProgressBar = dt(ProgressBar)`
  width: 100%;
  background-color: ${({ theme }) => theme.colors.neutral200};
  > div {
    background-color: ${({ theme }) => theme.colors.neutral700};
  }
`;
var StyledGridItem = dt(Grid.Item)`
  ${({ theme }) => theme.breakpoints.large} {
    grid-column: 7 / 13;
  }
`;
var AIUsage = () => {
  var _a;
  const { formatMessage } = useIntl();
  const { data, isLoading, error } = useGetAIUsageQuery(void 0, {
    refetchOnMountOrArgChange: true
  });
  if (isLoading) {
    return null;
  }
  if (error || !data) {
    return null;
  }
  if (!((_a = data.subscription) == null ? void 0 : _a.cmsAiEnabled)) {
    return null;
  }
  const totalCredits = data.subscription.cmsAiCreditsBase;
  const usedCredits = data.cmsAiCreditsUsed;
  const maxCredits = data.subscription.cmsAiCreditsMaxUsage;
  const overage = usedCredits - totalCredits;
  const percentRemaining = usedCredits / totalCredits * 100;
  const percentOverage = usedCredits / maxCredits * 100;
  const isInOverages = overage > 0 && maxCredits !== totalCredits;
  return (0, import_jsx_runtime.jsxs)(StyledGridItem, {
    col: 6,
    s: 12,
    direction: "column",
    alignItems: "start",
    gap: 2,
    children: [
      (0, import_jsx_runtime.jsx)(Typography, {
        variant: "sigma",
        textColor: "neutral600",
        children: formatMessage({
          id: "Settings.application.ai-usage",
          defaultMessage: "AI Usage"
        })
      }),
      (0, import_jsx_runtime.jsxs)(Flex, {
        gap: 2,
        direction: "column",
        alignItems: "flex-start",
        children: [
          !isInOverages && (0, import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment, {
            children: [
              (0, import_jsx_runtime.jsx)(Flex, {
                width: "100%",
                children: (0, import_jsx_runtime.jsx)(StyledProgressBar, {
                  value: percentRemaining,
                  size: "M"
                })
              }),
              (0, import_jsx_runtime.jsx)(Typography, {
                variant: "omega",
                children: `${usedCredits.toFixed(2)} credits used from ${totalCredits} credits available in your plan`
              })
            ]
          }),
          isInOverages && (0, import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment, {
            children: [
              (0, import_jsx_runtime.jsx)(Flex, {
                width: "100%",
                children: (0, import_jsx_runtime.jsx)(StyledProgressBar, {
                  value: percentOverage,
                  size: "M",
                  color: "danger"
                })
              }),
              (0, import_jsx_runtime.jsx)(Typography, {
                variant: "omega",
                textColor: "danger600",
                children: `${overage.toFixed(2)} credits used above the ${totalCredits} credits available in your plan`
              })
            ]
          })
        ]
      })
    ]
  });
};
export {
  AIUsage
};
//# sourceMappingURL=AIUsage-EXTN5DX2.js.map
