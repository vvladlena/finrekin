import {
  PERMISSIONS,
  getTranslation,
  useCreateLocaleMutation,
  useDeleteLocaleMutation,
  useGetDefaultLocalesQuery,
  useGetLocalesQuery,
  useGetSettingsQuery,
  useUpdateLocaleMutation,
  useUpdatei18nSettingsMutation
} from "./chunk-Z2HHEXU7.js";
import "./chunk-ZOU7UUFP.js";
import "./chunk-P356OR3A.js";
import "./chunk-MOGIWO42.js";
import "./chunk-AJLTGHEL.js";
import {
  useAIAvailability
} from "./chunk-XU4KQGZH.js";
import "./chunk-MJD4Y7DT.js";
import "./chunk-NSMZCVR5.js";
import "./chunk-4UVXPEB6.js";
import "./chunk-YWZZPNK7.js";
import "./chunk-MAKLO7KV.js";
import "./chunk-QIJGNK42.js";
import "./chunk-3SAS4NJV.js";
import "./chunk-TEUS222N.js";
import "./chunk-2YQF7RDQ.js";
import "./chunk-KOTDTL33.js";
import "./chunk-SWUDYNEC.js";
import "./chunk-N6R6IWAM.js";
import "./chunk-QV3PJSA5.js";
import "./chunk-ANTQCNDQ.js";
import {
  MemoizedInputRenderer
} from "./chunk-QTZ4XRH6.js";
import {
  Form,
  useField,
  useForm
} from "./chunk-WXPUSVPO.js";
import "./chunk-OFNJA426.js";
import "./chunk-ASH42T2X.js";
import "./chunk-WOUEXCPW.js";
import "./chunk-4XMVCFK4.js";
import {
  ConfirmDialog
} from "./chunk-2WJRQKLE.js";
import {
  useRBAC
} from "./chunk-6OJJUFRA.js";
import "./chunk-MBK4V2X7.js";
import "./chunk-EACNJOKI.js";
import "./chunk-T2ARN7TZ.js";
import "./chunk-WNJSWFX2.js";
import "./chunk-FAAVKV3T.js";
import "./chunk-ZP6XD6JD.js";
import "./chunk-XCUTC7DP.js";
import "./chunk-IFOFBKTA.js";
import {
  create3 as create,
  create4 as create2,
  create6 as create3
} from "./chunk-JNOVONHP.js";
import "./chunk-U2S4VNVE.js";
import "./chunk-O242NJNL.js";
import {
  Layouts
} from "./chunk-KHXOVR6R.js";
import "./chunk-DNMJGIFG.js";
import "./chunk-HFLY2QXA.js";
import "./chunk-3GJUYW3U.js";
import "./chunk-PQINNV4N.js";
import "./chunk-E576XIIO.js";
import "./chunk-FPU5PDM4.js";
import {
  ForwardRef$m,
  Page,
  useAPIErrorHandler
} from "./chunk-HQ45A4F6.js";
import {
  useAuth
} from "./chunk-WYS5IDGO.js";
import "./chunk-JSEOD63F.js";
import {
  useNotification
} from "./chunk-22FAJYKX.js";
import "./chunk-PWWLPW7X.js";
import "./chunk-D2AJA42X.js";
import "./chunk-7JYK6TW6.js";
import "./chunk-V3H6CYGR.js";
import "./chunk-ZC6UOKQ5.js";
import "./chunk-HM5YIFDI.js";
import "./chunk-QOUV5O5E.js";
import {
  Box,
  Button,
  Combobox,
  Dialog,
  Divider,
  EmptyStateLayout,
  Field,
  Flex,
  Grid,
  IconButton,
  Modal,
  Option,
  Table,
  Tabs,
  Tbody,
  Td,
  Th,
  Thead,
  Toggle,
  TooltipImpl,
  Tr,
  Typography,
  VisuallyHidden,
  useId,
  useIntl
} from "./chunk-YQYM7WZ4.js";
import "./chunk-7K6WC7UG.js";
import "./chunk-AFMTHDWQ.js";
import "./chunk-AWHRF5BE.js";
import {
  ForwardRef$2o,
  ForwardRef$G,
  ForwardRef$N,
  ForwardRef$b,
  ForwardRef$o
} from "./chunk-EXVE46AP.js";
import {
  require_jsx_runtime
} from "./chunk-LMPM4PM5.js";
import "./chunk-3LBZKDTB.js";
import {
  require_react
} from "./chunk-D3I3COXH.js";
import {
  __toESM
} from "./chunk-LK32TJAX.js";

// node_modules/@strapi/i18n/dist/admin/pages/SettingsPage.mjs
var import_jsx_runtime5 = __toESM(require_jsx_runtime(), 1);
var import_react = __toESM(require_react(), 1);

// node_modules/@strapi/i18n/dist/admin/components/CreateLocale.mjs
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var React = __toESM(require_react(), 1);

// node_modules/@strapi/i18n/dist/admin/utils/baseQuery.mjs
var isBaseQueryError = (error) => {
  return error.name !== void 0;
};

// node_modules/@strapi/i18n/dist/admin/components/CreateLocale.mjs
var CreateLocale = ({ disabled, variant = "default" }) => {
  const { formatMessage } = useIntl();
  const [visible, setVisible] = React.useState(false);
  return (0, import_jsx_runtime.jsxs)(Modal.Root, {
    open: visible,
    onOpenChange: setVisible,
    children: [
      (0, import_jsx_runtime.jsx)(Modal.Trigger, {
        children: (0, import_jsx_runtime.jsx)(Button, {
          variant,
          disabled,
          startIcon: (0, import_jsx_runtime.jsx)(ForwardRef$G, {}),
          onClick: () => setVisible(true),
          size: "S",
          children: formatMessage({
            id: getTranslation("Settings.list.actions.add"),
            defaultMessage: "Add new locale"
          })
        })
      }),
      (0, import_jsx_runtime.jsx)(CreateModal, {
        onClose: () => setVisible(false)
      })
    ]
  });
};
var LOCALE_SCHEMA = create3().shape({
  code: create2().nullable().required({
    id: "Settings.locales.modal.create.code.error",
    defaultMessage: "Please select a locale"
  }),
  name: create2().nullable().max(50, {
    id: "Settings.locales.modal.create.name.error.min",
    defaultMessage: "The locale display name can only be less than 50 characters."
  }).required({
    id: "Settings.locales.modal.create.name.error.required",
    defaultMessage: "Please give the locale a display name"
  }),
  isDefault: create()
});
var initialFormValues = {
  code: "",
  name: "",
  isDefault: false
};
var CreateModal = ({ onClose }) => {
  const titleId = useId();
  const { toggleNotification } = useNotification();
  const { _unstableFormatAPIError: formatAPIError, _unstableFormatValidationErrors: formatValidationErrors } = useAPIErrorHandler();
  const [createLocale] = useCreateLocaleMutation();
  const { formatMessage } = useIntl();
  const refetchPermissions = useAuth("CreateModal", (state) => state.refetchPermissions);
  const handleSubmit = async (values, helpers) => {
    try {
      const res = await createLocale(values);
      if ("error" in res) {
        if (isBaseQueryError(res.error) && res.error.name === "ValidationError") {
          helpers.setErrors(formatValidationErrors(res.error));
        } else {
          toggleNotification({
            type: "danger",
            message: formatAPIError(res.error)
          });
        }
        return;
      }
      toggleNotification({
        type: "success",
        message: formatMessage({
          id: getTranslation("Settings.locales.modal.create.success"),
          defaultMessage: "Locale successfully added"
        })
      });
      refetchPermissions();
      onClose();
    } catch (err) {
      toggleNotification({
        type: "danger",
        message: formatMessage({
          id: "notification.error",
          defaultMessage: "An error occurred, please try again"
        })
      });
    }
  };
  return (0, import_jsx_runtime.jsx)(Modal.Content, {
    children: (0, import_jsx_runtime.jsxs)(Form, {
      method: "POST",
      initialValues: initialFormValues,
      validationSchema: LOCALE_SCHEMA,
      onSubmit: handleSubmit,
      children: [
        (0, import_jsx_runtime.jsx)(Modal.Header, {
          children: (0, import_jsx_runtime.jsx)(Modal.Title, {
            children: formatMessage({
              id: getTranslation("Settings.list.actions.add"),
              defaultMessage: "Add new locale"
            })
          })
        }),
        (0, import_jsx_runtime.jsx)(Modal.Body, {
          children: (0, import_jsx_runtime.jsxs)(Tabs.Root, {
            variant: "simple",
            defaultValue: "basic",
            children: [
              (0, import_jsx_runtime.jsxs)(Flex, {
                justifyContent: "space-between",
                children: [
                  (0, import_jsx_runtime.jsx)(Typography, {
                    tag: "h2",
                    variant: "beta",
                    id: titleId,
                    children: formatMessage({
                      id: getTranslation("Settings.locales.modal.title"),
                      defaultMessage: "Configuration"
                    })
                  }),
                  (0, import_jsx_runtime.jsxs)(Tabs.List, {
                    "aria-labelledby": titleId,
                    children: [
                      (0, import_jsx_runtime.jsx)(Tabs.Trigger, {
                        value: "basic",
                        children: formatMessage({
                          id: getTranslation("Settings.locales.modal.base"),
                          defaultMessage: "Basic settings"
                        })
                      }),
                      (0, import_jsx_runtime.jsx)(Tabs.Trigger, {
                        value: "advanced",
                        children: formatMessage({
                          id: getTranslation("Settings.locales.modal.advanced"),
                          defaultMessage: "Advanced settings"
                        })
                      })
                    ]
                  })
                ]
              }),
              (0, import_jsx_runtime.jsx)(Divider, {}),
              (0, import_jsx_runtime.jsxs)(Box, {
                paddingTop: 7,
                paddingBottom: 7,
                children: [
                  (0, import_jsx_runtime.jsx)(Tabs.Content, {
                    value: "basic",
                    children: (0, import_jsx_runtime.jsx)(BaseForm, {})
                  }),
                  (0, import_jsx_runtime.jsx)(Tabs.Content, {
                    value: "advanced",
                    children: (0, import_jsx_runtime.jsx)(AdvancedForm, {})
                  })
                ]
              })
            ]
          })
        }),
        (0, import_jsx_runtime.jsxs)(Modal.Footer, {
          children: [
            (0, import_jsx_runtime.jsx)(Modal.Close, {
              children: (0, import_jsx_runtime.jsx)(Button, {
                variant: "tertiary",
                children: formatMessage({
                  id: "app.components.Button.cancel",
                  defaultMessage: "Cancel"
                })
              })
            }),
            (0, import_jsx_runtime.jsx)(SubmitButton, {})
          ]
        })
      ]
    })
  });
};
var SubmitButton = () => {
  const { formatMessage } = useIntl();
  const isSubmitting = useForm("SubmitButton", (state) => state.isSubmitting);
  const modified = useForm("SubmitButton", (state) => state.modified);
  return (0, import_jsx_runtime.jsx)(Button, {
    type: "submit",
    startIcon: (0, import_jsx_runtime.jsx)(ForwardRef$2o, {}),
    disabled: isSubmitting || !modified,
    children: formatMessage({
      id: "global.save",
      defaultMessage: "Save"
    })
  });
};
var BaseForm = ({ mode = "create" }) => {
  const { formatMessage } = useIntl();
  const { toggleNotification } = useNotification();
  const { _unstableFormatAPIError: formatAPIError } = useAPIErrorHandler();
  const { data: defaultLocales, error } = useGetDefaultLocalesQuery();
  React.useEffect(() => {
    if (error) {
      toggleNotification({
        type: "danger",
        message: formatAPIError(error)
      });
    }
  }, [
    error,
    formatAPIError,
    toggleNotification
  ]);
  if (!Array.isArray(defaultLocales)) {
    return null;
  }
  const options = defaultLocales.map((locale) => ({
    label: locale.name,
    value: locale.code
  }));
  const translatedForm = [
    {
      disabled: mode !== "create",
      label: {
        id: getTranslation("Settings.locales.modal.create.code.label"),
        defaultMessage: "Locales"
      },
      name: "code",
      options,
      placeholder: {
        id: "components.placeholder.select",
        defaultMessage: "Select"
      },
      required: true,
      size: 6,
      type: "enumeration"
    },
    {
      hint: {
        id: getTranslation("Settings.locales.modal.create.name.label.description"),
        defaultMessage: "Locale will be displayed under that name in the administration panel"
      },
      label: {
        id: getTranslation("Settings.locales.modal.create.name.label"),
        defaultMessage: "Locale display name"
      },
      name: "name",
      required: true,
      size: 6,
      type: "string"
    }
  ].map((field) => ({
    ...field,
    hint: field.hint ? formatMessage(field.hint) : void 0,
    label: formatMessage(field.label),
    placeholder: field.placeholder ? formatMessage(field.placeholder) : void 0
  }));
  return (0, import_jsx_runtime.jsx)(Grid.Root, {
    gap: 4,
    children: translatedForm.map(({ size, ...field }) => (0, import_jsx_runtime.jsx)(Grid.Item, {
      col: size,
      direction: "column",
      alignItems: "stretch",
      children: (0, import_jsx_runtime.jsx)(FormRenderer, {
        ...field
      })
    }, field.name))
  });
};
var AdvancedForm = ({ isDefaultLocale }) => {
  const { formatMessage } = useIntl();
  const form = [
    {
      disabled: isDefaultLocale,
      hint: {
        id: getTranslation("Settings.locales.modal.advanced.setAsDefault.hint"),
        defaultMessage: "One default locale is required, change it by selecting another one"
      },
      label: {
        id: getTranslation("Settings.locales.modal.advanced.setAsDefault"),
        defaultMessage: "Set as default locale"
      },
      name: "isDefault",
      size: 6,
      type: "boolean"
    }
  ].map((field) => ({
    ...field,
    hint: field.hint ? formatMessage(field.hint) : void 0,
    label: formatMessage(field.label)
  }));
  return (0, import_jsx_runtime.jsx)(Grid.Root, {
    gap: 4,
    children: form.map(({ size, ...field }) => (0, import_jsx_runtime.jsx)(Grid.Item, {
      col: size,
      direction: "column",
      alignItems: "stretch",
      children: (0, import_jsx_runtime.jsx)(FormRenderer, {
        ...field
      })
    }, field.name))
  });
};
var FormRenderer = (field) => {
  switch (field.type) {
    case "enumeration":
      return (0, import_jsx_runtime.jsx)(EnumerationInput, {
        ...field
      });
    default:
      return (0, import_jsx_runtime.jsx)(MemoizedInputRenderer, {
        ...field
      });
  }
};
var EnumerationInput = ({ disabled, hint, label, name, options, placeholder, required }) => {
  const { value, error, onChange } = useField(name);
  const { data: defaultLocales = [] } = useGetDefaultLocalesQuery();
  const handleChange = (value2) => {
    if (Array.isArray(defaultLocales)) {
      const locale = defaultLocales.find((locale2) => locale2.code === value2);
      onChange(name, value2);
      onChange("name", locale.name);
    } else {
      onChange(name, value2);
    }
  };
  return (0, import_jsx_runtime.jsxs)(Field.Root, {
    error,
    hint,
    name,
    required,
    children: [
      (0, import_jsx_runtime.jsx)(Field.Label, {
        children: label
      }),
      (0, import_jsx_runtime.jsx)(Combobox, {
        disabled,
        onChange: handleChange,
        placeholder,
        value,
        children: options.map((option) => (0, import_jsx_runtime.jsx)(Option, {
          value: option.value,
          children: option.label
        }, option.value))
      }),
      (0, import_jsx_runtime.jsx)(Field.Error, {}),
      (0, import_jsx_runtime.jsx)(Field.Hint, {})
    ]
  });
};

// node_modules/@strapi/i18n/dist/admin/components/LocaleTable.mjs
var import_jsx_runtime4 = __toESM(require_jsx_runtime(), 1);
var React4 = __toESM(require_react(), 1);

// node_modules/@strapi/i18n/dist/admin/components/DeleteLocale.mjs
var import_jsx_runtime2 = __toESM(require_jsx_runtime(), 1);
var React2 = __toESM(require_react(), 1);
var DeleteLocale = ({ id, name }) => {
  const { formatMessage } = useIntl();
  const { toggleNotification } = useNotification();
  const { _unstableFormatAPIError: formatAPIError } = useAPIErrorHandler();
  const [visible, setVisible] = React2.useState(false);
  const [deleteLocale] = useDeleteLocaleMutation();
  const handleConfirm = async () => {
    try {
      const res = await deleteLocale(id);
      if ("error" in res) {
        toggleNotification({
          type: "danger",
          message: formatAPIError(res.error)
        });
        return;
      }
      toggleNotification({
        type: "success",
        message: formatMessage({
          id: getTranslation("Settings.locales.modal.delete.success"),
          defaultMessage: "Deleted locale"
        })
      });
      setVisible(false);
    } catch (err) {
      toggleNotification({
        type: "danger",
        message: formatMessage({
          id: "notification.error",
          defaultMessage: "An error occurred, please try again"
        })
      });
    }
  };
  return (0, import_jsx_runtime2.jsxs)(Dialog.Root, {
    open: visible,
    onOpenChange: setVisible,
    children: [
      (0, import_jsx_runtime2.jsx)(Dialog.Trigger, {
        children: (0, import_jsx_runtime2.jsx)(IconButton, {
          onClick: () => setVisible(true),
          label: formatMessage({
            id: getTranslation("Settings.list.actions.delete"),
            defaultMessage: "Delete {name} locale"
          }, {
            name
          }),
          variant: "ghost",
          children: (0, import_jsx_runtime2.jsx)(ForwardRef$b, {})
        })
      }),
      (0, import_jsx_runtime2.jsx)(ConfirmDialog, {
        onConfirm: handleConfirm
      })
    ]
  });
};

// node_modules/@strapi/i18n/dist/admin/components/EditLocale.mjs
var import_jsx_runtime3 = __toESM(require_jsx_runtime(), 1);
var React3 = __toESM(require_react(), 1);
var EditLocale = (props) => {
  const { formatMessage } = useIntl();
  const [visible, setVisible] = React3.useState(false);
  return (0, import_jsx_runtime3.jsxs)(import_jsx_runtime3.Fragment, {
    children: [
      (0, import_jsx_runtime3.jsx)(IconButton, {
        onClick: () => setVisible(true),
        label: formatMessage({
          id: getTranslation("Settings.list.actions.edit"),
          defaultMessage: "Edit {name} locale"
        }, {
          name: props.name
        }),
        variant: "ghost",
        children: (0, import_jsx_runtime3.jsx)(ForwardRef$N, {})
      }),
      (0, import_jsx_runtime3.jsx)(EditModal, {
        ...props,
        open: visible,
        onOpenChange: setVisible
      })
    ]
  });
};
var EditModal = ({ id, code, isDefault, name, open, onOpenChange }) => {
  const { toggleNotification } = useNotification();
  const { _unstableFormatAPIError: formatAPIError, _unstableFormatValidationErrors: formatValidationErrors } = useAPIErrorHandler();
  const refetchPermissions = useAuth("EditModal", (state) => state.refetchPermissions);
  const { formatMessage } = useIntl();
  const titleId = useId();
  const [updateLocale] = useUpdateLocaleMutation();
  const handleSubmit = async ({ code: _code, ...data }, helpers) => {
    try {
      const res = await updateLocale({
        id,
        ...data
      });
      if ("error" in res) {
        if (isBaseQueryError(res.error) && res.error.name === "ValidationError") {
          helpers.setErrors(formatValidationErrors(res.error));
        } else {
          toggleNotification({
            type: "danger",
            message: formatAPIError(res.error)
          });
        }
        return;
      }
      toggleNotification({
        type: "success",
        message: formatMessage({
          id: getTranslation("Settings.locales.modal.edit.success"),
          defaultMessage: "Locale successfully edited"
        })
      });
      refetchPermissions();
      onOpenChange(false);
    } catch (err) {
      toggleNotification({
        type: "danger",
        message: formatMessage({
          id: "notification.error",
          defaultMessage: "An error occurred, please try again"
        })
      });
    }
  };
  return (0, import_jsx_runtime3.jsx)(Modal.Root, {
    open,
    onOpenChange,
    children: (0, import_jsx_runtime3.jsx)(Modal.Content, {
      children: (0, import_jsx_runtime3.jsxs)(Form, {
        method: "PUT",
        onSubmit: handleSubmit,
        initialValues: {
          code,
          name,
          isDefault
        },
        validationSchema: LOCALE_SCHEMA,
        children: [
          (0, import_jsx_runtime3.jsx)(Modal.Header, {
            children: (0, import_jsx_runtime3.jsx)(Modal.Title, {
              children: formatMessage({
                id: getTranslation("Settings.list.actions.edit"),
                defaultMessage: "Edit a locale"
              }, {
                name
              })
            })
          }),
          (0, import_jsx_runtime3.jsx)(Modal.Body, {
            children: (0, import_jsx_runtime3.jsxs)(Tabs.Root, {
              variant: "simple",
              defaultValue: "basic",
              children: [
                (0, import_jsx_runtime3.jsxs)(Flex, {
                  justifyContent: "space-between",
                  children: [
                    (0, import_jsx_runtime3.jsx)(Typography, {
                      tag: "h2",
                      variant: "beta",
                      id: titleId,
                      children: formatMessage({
                        id: getTranslation("Settings.locales.modal.title"),
                        defaultMessage: "Configuration"
                      })
                    }),
                    (0, import_jsx_runtime3.jsxs)(Tabs.List, {
                      "aria-labelledby": titleId,
                      children: [
                        (0, import_jsx_runtime3.jsx)(Tabs.Trigger, {
                          value: "basic",
                          children: formatMessage({
                            id: getTranslation("Settings.locales.modal.base"),
                            defaultMessage: "Basic settings"
                          })
                        }),
                        (0, import_jsx_runtime3.jsx)(Tabs.Trigger, {
                          value: "advanced",
                          children: formatMessage({
                            id: getTranslation("Settings.locales.modal.advanced"),
                            defaultMessage: "Advanced settings"
                          })
                        })
                      ]
                    })
                  ]
                }),
                (0, import_jsx_runtime3.jsx)(Divider, {}),
                (0, import_jsx_runtime3.jsxs)(Box, {
                  paddingTop: 7,
                  paddingBottom: 7,
                  children: [
                    (0, import_jsx_runtime3.jsx)(Tabs.Content, {
                      value: "basic",
                      children: (0, import_jsx_runtime3.jsx)(BaseForm, {
                        mode: "edit"
                      })
                    }),
                    (0, import_jsx_runtime3.jsx)(Tabs.Content, {
                      value: "advanced",
                      children: (0, import_jsx_runtime3.jsx)(AdvancedForm, {
                        isDefaultLocale: isDefault
                      })
                    })
                  ]
                })
              ]
            })
          }),
          (0, import_jsx_runtime3.jsxs)(Modal.Footer, {
            children: [
              (0, import_jsx_runtime3.jsx)(Modal.Close, {
                children: (0, import_jsx_runtime3.jsx)(Button, {
                  variant: "tertiary",
                  children: formatMessage({
                    id: "app.components.Button.cancel",
                    defaultMessage: "Cancel"
                  })
                })
              }),
              (0, import_jsx_runtime3.jsx)(SubmitButton, {})
            ]
          })
        ]
      })
    })
  });
};

// node_modules/@strapi/i18n/dist/admin/components/LocaleTable.mjs
var LocaleTable = ({ locales = [], canDelete, canUpdate }) => {
  const [editLocaleId, setEditLocaleId] = React4.useState();
  const { formatMessage } = useIntl();
  const handleClick = (localeId) => () => {
    if (canUpdate) {
      setEditLocaleId(localeId);
    }
  };
  return (0, import_jsx_runtime4.jsxs)(Table, {
    colCount: 4,
    rowCount: locales.length + 1,
    children: [
      (0, import_jsx_runtime4.jsx)(Thead, {
        children: (0, import_jsx_runtime4.jsxs)(Tr, {
          children: [
            (0, import_jsx_runtime4.jsx)(Th, {
              children: (0, import_jsx_runtime4.jsx)(Typography, {
                variant: "sigma",
                textColor: "neutral600",
                children: formatMessage({
                  id: getTranslation("Settings.locales.row.id"),
                  defaultMessage: "ID"
                })
              })
            }),
            (0, import_jsx_runtime4.jsx)(Th, {
              children: (0, import_jsx_runtime4.jsx)(Typography, {
                variant: "sigma",
                textColor: "neutral600",
                children: formatMessage({
                  id: getTranslation("Settings.locales.row.displayName"),
                  defaultMessage: "Display name"
                })
              })
            }),
            (0, import_jsx_runtime4.jsx)(Th, {
              children: (0, import_jsx_runtime4.jsx)(Typography, {
                variant: "sigma",
                textColor: "neutral600",
                children: formatMessage({
                  id: getTranslation("Settings.locales.row.default-locale"),
                  defaultMessage: "Default locale"
                })
              })
            }),
            (0, import_jsx_runtime4.jsx)(Th, {
              children: (0, import_jsx_runtime4.jsx)(VisuallyHidden, {
                children: "Actions"
              })
            })
          ]
        })
      }),
      (0, import_jsx_runtime4.jsx)(Tbody, {
        children: locales.map((locale) => (0, import_jsx_runtime4.jsxs)(React4.Fragment, {
          children: [
            (0, import_jsx_runtime4.jsxs)(Tr, {
              onClick: handleClick(locale.id),
              style: {
                cursor: canUpdate ? "pointer" : "default"
              },
              children: [
                (0, import_jsx_runtime4.jsx)(Td, {
                  children: (0, import_jsx_runtime4.jsx)(Typography, {
                    textColor: "neutral800",
                    children: locale.id
                  })
                }),
                (0, import_jsx_runtime4.jsx)(Td, {
                  children: (0, import_jsx_runtime4.jsx)(Typography, {
                    textColor: "neutral800",
                    children: locale.name
                  })
                }),
                (0, import_jsx_runtime4.jsx)(Td, {
                  children: (0, import_jsx_runtime4.jsx)(Typography, {
                    textColor: "neutral800",
                    children: locale.isDefault ? formatMessage({
                      id: getTranslation("Settings.locales.default"),
                      defaultMessage: "Default"
                    }) : null
                  })
                }),
                (0, import_jsx_runtime4.jsx)(Td, {
                  children: (0, import_jsx_runtime4.jsxs)(Flex, {
                    gap: 1,
                    justifyContent: "flex-end",
                    onClick: (e) => e.stopPropagation(),
                    children: [
                      canUpdate && (0, import_jsx_runtime4.jsx)(EditLocale, {
                        ...locale
                      }),
                      canDelete && !locale.isDefault && (0, import_jsx_runtime4.jsx)(DeleteLocale, {
                        ...locale
                      })
                    ]
                  })
                })
              ]
            }),
            (0, import_jsx_runtime4.jsx)(EditModal, {
              ...locale,
              onOpenChange: () => setEditLocaleId(void 0),
              open: editLocaleId === locale.id
            })
          ]
        }, locale.id))
      })
    ]
  });
};

// node_modules/@strapi/i18n/dist/admin/pages/SettingsPage.mjs
var SettingsErrrorTooltip = ({ children, error }) => {
  const { _unstableFormatAPIError: formatAPIError } = useAPIErrorHandler();
  if (error) {
    return (0, import_jsx_runtime5.jsx)(TooltipImpl, {
      label: formatAPIError(error),
      style: {
        maxWidth: "200px"
      },
      children
    });
  }
  return children;
};
var SettingsPage = () => {
  var _a;
  const { formatMessage } = useIntl();
  const { toggleNotification } = useNotification();
  const { data: locales, isLoading: isLoadingLocales, error } = useGetLocalesQuery();
  const { isLoading: isLoadingRBAC, allowedActions: { canUpdate, canCreate, canDelete } } = useRBAC(PERMISSIONS);
  const isAIAvailable = useAIAvailability();
  const { data: settings, isLoading: isLoadingSettings, error: settingsError } = useGetSettingsQuery();
  const [updateSettings] = useUpdatei18nSettingsMutation();
  const handleToggleChange = async (checked) => {
    try {
      await updateSettings({
        aiLocalizations: checked
      }).unwrap();
      toggleNotification({
        type: "success",
        message: formatMessage({
          id: "notification.form.success.fields"
        })
      });
    } catch (err) {
      console.error(err);
      toggleNotification({
        type: "danger",
        message: formatMessage({
          id: "notification.error",
          defaultMessage: "An error occurred"
        })
      });
    }
  };
  const isLoading = isLoadingLocales || isLoadingRBAC || isLoadingSettings;
  if (isLoading) {
    return (0, import_jsx_runtime5.jsx)(Page.Loading, {});
  }
  if (error || !Array.isArray(locales)) {
    return (0, import_jsx_runtime5.jsx)(Page.Error, {});
  }
  return (0, import_jsx_runtime5.jsxs)(Page.Main, {
    tabIndex: -1,
    children: [
      (0, import_jsx_runtime5.jsx)(Layouts.Header, {
        primaryAction: (0, import_jsx_runtime5.jsx)(CreateLocale, {
          disabled: !canCreate
        }),
        title: formatMessage({
          id: getTranslation("plugin.name"),
          defaultMessage: "Internationalization"
        }),
        subtitle: formatMessage({
          id: getTranslation("Settings.list.description"),
          defaultMessage: "Configure the settings"
        })
      }),
      (0, import_jsx_runtime5.jsxs)(Layouts.Content, {
        children: [
          isAIAvailable && (0, import_jsx_runtime5.jsxs)(Flex, {
            background: "neutral0",
            padding: 6,
            marginBottom: 6,
            shadow: "filterShadow",
            hasRadius: true,
            children: [
              (0, import_jsx_runtime5.jsxs)(Flex, {
                direction: "column",
                alignItems: "stretch",
                gap: 1,
                flex: 1,
                children: [
                  (0, import_jsx_runtime5.jsxs)(Flex, {
                    gap: 1,
                    children: [
                      (0, import_jsx_runtime5.jsx)(Box, {
                        color: "alternative700",
                        children: (0, import_jsx_runtime5.jsx)(ForwardRef$o, {})
                      }),
                      (0, import_jsx_runtime5.jsx)(Typography, {
                        variant: "delta",
                        tag: "h2",
                        children: formatMessage({
                          id: getTranslation("Settings.aiLocalizations.label"),
                          defaultMessage: "AI Translations"
                        })
                      })
                    ]
                  }),
                  (0, import_jsx_runtime5.jsx)(Typography, {
                    variant: "pi",
                    textColor: "neutral600",
                    fontSize: "14px",
                    children: formatMessage({
                      id: getTranslation("Settings.aiLocalizations.description"),
                      defaultMessage: "Everytime you save in the Content Manager, our AI will use your default locale to translate all other locales automatically."
                    })
                  })
                ]
              }),
              (0, import_jsx_runtime5.jsx)(Field.Root, {
                name: "aiLocalizations",
                minWidth: "200px",
                children: (0, import_jsx_runtime5.jsx)(SettingsErrrorTooltip, {
                  error: settingsError,
                  children: (0, import_jsx_runtime5.jsx)(Toggle, {
                    disabled: Boolean(settingsError),
                    checked: ((_a = settings == null ? void 0 : settings.data) == null ? void 0 : _a.aiLocalizations) ?? false,
                    offLabel: formatMessage({
                      id: "app.components.ToggleCheckbox.disabled-label",
                      defaultMessage: "Disabled"
                    }),
                    onLabel: formatMessage({
                      id: "app.components.ToggleCheckbox.enabled-label",
                      defaultMessage: "Enabled"
                    }),
                    onChange: (e) => handleToggleChange(e.target.checked)
                  })
                })
              })
            ]
          }),
          locales.length > 0 ? (0, import_jsx_runtime5.jsx)(LocaleTable, {
            locales,
            canDelete,
            canUpdate
          }) : (0, import_jsx_runtime5.jsx)(EmptyStateLayout, {
            icon: (0, import_jsx_runtime5.jsx)(ForwardRef$m, {
              width: void 0,
              height: void 0
            }),
            content: formatMessage({
              id: getTranslation("Settings.list.empty.title"),
              defaultMessage: "There are no locales"
            }),
            action: (0, import_jsx_runtime5.jsx)(CreateLocale, {
              disabled: !canCreate,
              variant: "secondary"
            })
          })
        ]
      })
    ]
  });
};
var ProtectedSettingsPage = () => {
  return (0, import_jsx_runtime5.jsx)(Page.Protect, {
    permissions: PERMISSIONS.read,
    children: (0, import_jsx_runtime5.jsx)(SettingsPage, {})
  });
};
export {
  ProtectedSettingsPage,
  SettingsPage
};
//# sourceMappingURL=SettingsPage-W365F5ZT.js.map
